# -*- mode: ruby -*-
# vi: set ft=ruby :
Vagrant.configure('2') do |config|
  config.vm.box = 'ubuntu/bionic64'
  config.vm.provider 'virtualbox' do |vb|
    vb.memory = '4096'
    vb.cpus   = '4'
  end
  # set up vnc server for gui connection if needed
  config.vm.provision 'shell', name: 'update', path: 'install-scripts/general/update.sh'
  config.vm.provision :reload
  config.vm.provision 'shell', name: 'python3', path: 'install-scripts/general/python3.sh'
  config.vm.provision 'shell', name: 'gnome', path: 'install-scripts/general/gnome.sh'
  config.vm.provision :reload
  config.vm.provision 'shell', name: 'firefox', path: 'install-scripts/general/firefox.sh'
  # install firmware analysis tools
  config.vm.provision 'shell', name: 'binwalk', path: 'install-scripts/firmware/binwalk.sh'
  config.vm.provision 'shell', name: 'firmadyne', path: 'install-scripts/firmware/firmadyne.sh'
  config.vm.provision 'shell', name: 'binaryanalysis-ng', path: 'install-scripts/firmware/binaryanalysis-ng.sh'
  config.vm.provision 'shell', name: 'radare2', path: 'install-scripts/firmware/radare2.sh'
  config.vm.provision 'shell', name: 'firmwalker', path: 'install-scripts/firmware/firmwalker.sh'
  # can't get bytesweep to install correctly. though it looks cool let's wait and try again later.
  # config.vm.provision 'shell', name: 'bytesweep', path: 'install-scripts/firmware/bytesweep.sh'
  # install binary analysis tools
  config.vm.provision 'shell', name: 'ghidra', path: 'install-scripts/bin/ghidra.sh'
  config.vm.provision 'shell', name: 'angr', path: 'install-scripts/bin/angr.sh'
  config.vm.provision 'shell', name: 'ROPGadget', path: 'install-scripts/bin/ROPGadget.sh'
  config.vm.provision 'shell', name: 'pwntools', path: 'install-scripts/bin/pwntools.sh'
  config.vm.provision 'shell', name: 'gef', path: 'install-scripts/bin/gef.sh'
end

